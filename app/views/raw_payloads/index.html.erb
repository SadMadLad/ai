
<div>
  <%= form_with scope: :recommendation, method: :get, url: raw_payloads_path, class: 'mb-8 flex flex-col gap-2.5', data: { turbo_frame: :raw_payloads } do |form| %>
    <div class="flex flex-col gap-0.5">
      <%= form.label :query, class: 'font-semibold' %>
      <%= form.text_field :query, class: 'px-2.5 py-1 rounded-lg border border-gray-500 shadow', required: true %>
    </div>
    <div class="flex flex-col gap-0.5">
      <%= form.label :embedding_model, class: 'font-semibold' %>
      <%= form.select :embedding_model, [['Small Deepseek', :deepseek_sm], ['Small Llama', :llama_sm]], {}, { class: 'px-2.5 py-1 rounded-lg border border-gray-500 shadow' } %>
    </div>
    <div class="flex flex-col gap-0.5">
      <%= form.label :distance, class: 'font-semibold' %>
      <%= form.select :distance, %w[euclidean inner_product cosine taxicab hamming jaccard].map { |dist| [dist.titleize, dist] }, {}, { class: 'px-2.5 py-1 rounded-lg border border-gray-500 shadow' } %>
    </div>
    <%= form.submit 'Search', class: 'bg-red-500 text-white font-bold rounded-lg py-2.5' %>
  <% end %>

  <%= turbo_frame_tag :raw_payloads, class: 'flex flex-col gap-2.5' do %>
    <%= render @raw_payloads %>
  <% end %>
</div>
